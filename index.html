<!DOCTYPE html>
<html>
<head>
  <title>Speek With World</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="img/logo/logo.ico" type="image/x-icon">
  <script type="text/javascript" src="json.js"></script>
  
</head>
<body>

<!-- Panel de configuraci√≥n inicial -->
<div id="configPanel" class="config-panel">
  <div class="config-form">
    <h2>üîß Configuraci√≥n de Credenciales</h2>

    <div class="form-group">
      <label>Speech Key (Azure Speech Service):</label>
      <input type="password" id="inputSpeechKey" placeholder="Ingresa tu Speech Key">
      <small>Clave de Azure Speech Service</small>
    </div>

    <div class="form-group">
      <label>Speech Region:</label>
      <input type="text" id="inputSpeechRegion" placeholder="ej: westeurope, eastus">
      <small>Regi√≥n del servicio Speech</small>
    </div>

    <div class="form-group">
      <label>Translator Key (Azure Translator):</label>
      <input type="password" id="inputTranslatorKey" placeholder="Ingresa tu Translator Key">
      <small>Clave de Azure Translator</small>
    </div>

    <div class="form-group">
      <label>Translator Region:</label>
      <input type="text" id="inputTranslatorRegion" placeholder="ej: westeurope, eastus">
      <small>Regi√≥n del servicio Translator</small>
    </div>

    <button onclick="saveCredentials()">üíæ Guardar y Continuar</button>
    <div id="configStatus" class="status"></div>
  </div>
</div>

<video id="cam" autoplay playsinline></video>

<div class="menu hidden" id="controlMenu">
  <label>Idioma destino:</label>
  <select id="targetLang">
    <option value="en">Ingl√©s</option>
    <option value="de">Alem√°n</option>
    <option value="fr">Franc√©s</option>
    <option value="ja">Japon√©s</option>
    <option value="it">Italiano</option>
    <option value="pt">Portugu√©s</option>
  </select>

  <button id="startBtn" onclick="start()">Iniciar todo</button>
  <button id="micBtn" onclick="toggleMic()" disabled style="background: #f44336;">üé§ Mutear</button>
  <button onclick="showConfig()" style="background: #FF9800;">‚öôÔ∏è Cambiar Keys</button>
  <div id="status" class="status"></div>
</div>

<div class="subtitles">
  <div id="original"></div>
  <div id="translated"></div>
</div>

<script src="./microsoft.cognitiveservices.speech.sdk.bundle.js"></script>
<script>
  // Verificar que el SDK se carg√≥ correctamente
  window.addEventListener('load', function () {
    if (typeof SpeechSDK === 'undefined') {
      console.error('Speech SDK no se carg√≥ correctamente');
      document.getElementById('configStatus').innerText = '‚ùå Error al cargar Speech SDK';
    } else {
      console.log('Speech SDK cargado correctamente');
    }
  });
</script>

</body>
</html>